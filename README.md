# ПЛАГИН «BOXES» CMF COTONTI
Пример работы: https://koketky.com (счетчики выводятся через плагин)

<p>Boxes - плагин под Cotonti&nbsp;с помощью которого можно вывести&nbsp;в шаблон различные&nbsp;блоки, виджеты, счетчики&nbsp;посещений и прочие дополнения, помогающие оживить сайт и сделать его полезным для людей.&nbsp;&nbsp;</p>

<p>Плагин boxes&nbsp;теперь&nbsp;включает в себя несколько возможностей сразу. Это и вывод текста на главной, и возможность добавлять метатеги, включать режим обслуживания, выводить счетчики посещений, код html&nbsp;css&nbsp;js, и произвольные блоки.</p>

Boxes - плагин под Cotonti с помощью которого можно вывести в шаблон различные блоки, виджеты, счетчики посещений и прочие дополнения, помогающие оживить сайт и сделать его полезным для людей.  

Плагин boxes теперь включает в себя несколько возможностей сразу. Это и вывод текста на главной, и возможность добавлять метатеги, включать режим обслуживания, выводить счетчики посещений, код html css js, и произвольные блоки.

Текст на главной странице

Текст для главной  страницы сайта теперь можно заполнять прямо из админпанели, для этого нужно перейти в конфигурацию плагина boxes, если установлен плагин CKEditor, то он автоматически переключит текстовое поле (textarea) в визуальный режим.

Вывод метатегов

Подтверждение с помощью метатегов  не доставит хлопот если есть возможность их добавления через админку. Теперь метатеги добавляются легко и быстро, достаточно их вставить в специальное поле в настройках плагина boxes.

Подключение дополнительных css, js

Подключение css файлов отдельно от общих может понадобиться для оптимизации скорости загрузки сайта, например если у вас css стили разбиты на логические файлы (сброс, каркас, дефолтные, основные, визуализация, респонсив), то с помощью специального поля можно прописать основные файлы css необходимые для начальной загрузки, а остальные (второстепенные) подгружать после загрузки страницы ( основного кода ) как рекомендует Google в инструкции к pagespeed.

Но эта настройка больше для тех кто понимает что такое проверка по pagespeed, для чего она нужна, и какое отношение имеют вышеуказанные способы вызова css  к оптимизации сайта. Путь к папке css вашего шаблона формируется автоматически, файлы перечисляются с новой строки каждый, только название и расширение, например style.css.

Дополнительные css стили сайта можно подключить в следующем поле. Это удобно в том случае, когда вы хотите перезаписать существующие установки, например цвет ссылки, или временно скрыть определенный div. В поле для дополнительных стилей добавляется css код, а не ссылки на css файлы как в предыдущем случае. 

Сss, js - в это поле можно подключить css js файлы, как внешние так и внутренние, с использованием стандартных html тегов соответственно расширению вызываемого файла ( <link *****>  <script *****></script> ).

Вывод js в нижней части сайта

Поле для вставки содержимого js файла - здесь как и в подключении css файлов путь формируется автоматически, нужно только перечислить файлы js находящиеся в папке js вашего шаблона, только имя файла и расширение, например script.js, каждый с новой строки. Содержимое перечисленных файлов появится внизу структуры шаблона (в футере).

Поле для вставки произвольного js кода может пригодиться когда нужно добавить мелкие фрагменты скриптов, которые рекомендуется встраивать в тело каркаса шаблона вместо вызова отдельного js файла.  Если нет доступа к ftp, это поле будет кстати.

Подключение js файлов - в это поле можно вставить html теги вызова скриптов ( <script src="***"></script> ), как внешних так и внутренних. Здесь подключение файлов происходит обычным способом. В отличие от первых двух вариантов подключения скриптов, здесь выводится тег script являющийся ссылкой-контейнером, а в первых двух выводится содержимое data не имеющее src.

Подключение счетчиков посещений не должно вызывать затруднение даже у новичков, поэтому в плагине boxes предусмотрено специальное поле, в которое вставляется код ( или коды если счетчик не один ). 

Также есть дополнительные восемь полей, каждое из которых доступно глобально по всему сайту. Нужно только вставить соответствующее поле в нужное место в шаблоне. Описание каждому полю можно добавить в следующем поле.

Описание дополнительных блоков

В это поле добавляются пометки ( описания ) для вышеописанных дополнительных полей. Разделителем служит перенос строки. Таким образом изначально описание привяжется к дополнительному блоку под номером 1, все что будет с новой строки - к блоку номер 2, и так далее.

Установка плагина boxes

Распаковать и залить содержимое в папку plugins.
Установить через админпанель: (Управление сайтом / Расширения / Boxes).
Добавить указанные ниже теги в шаблон
В header.tpl: 

перед тегом {HEADER_HEAD} добавить {HEADER_BOXES_SPEEDUP}, а после него добавить {HEADER_BOXES_CSS}{HEADER_BOXES_EXTERNAL_JSCSS}, для правильной работы указанная очередность обязательна.  В итоге у вас должно получиться так:

{HEADER_BOXES_SPEEDUP}{HEADER_HEAD}{HEADER_BOXES_CSS}{HEADER_BOXES_EXTERNAL_JSCSS}
В index.tpl:

в том месте где будет выводиться текст для главной:

        <!-- IF {INDEX_TEXT_BOXES} -->
                <div>{INDEX_TEXT_BOXES}</div>
        <!-- ENDIF -->
В footer.tpl:

в том месте где хотите выводить счетчики посещений добавить: {FOOTER_BOXES_STAT}

Copyright (c) 2015 - today: WebRomen | https://github.com/WebRomen/boxes/ 
